# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Tfswitch < Formula
  desc "The tfswitch command lets you switch between terraform versions."
  homepage "https://warrensbox.github.io/terraform-switcher"
  version "1.5.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/warrensbox/terraform-switcher/releases/download/v1.5.0/terraform-switcher_v1.5.0_darwin_amd64.tar.gz"
      sha256 "06da20dd0a94027a7694ae052d3b137b85f34b0ce9167a67f87531aaeec79aaf"

      def install
        bin.install "tfswitch"
        bash_completion.install "tfswitch-completion.bash" => "tfswitch"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/warrensbox/terraform-switcher/releases/download/v1.5.0/terraform-switcher_v1.5.0_darwin_arm64.tar.gz"
      sha256 "57069d822f6972102f54bef69ed64353647111f1a47a00ca0dd5e8496c62d916"

      def install
        bin.install "tfswitch"
        bash_completion.install "tfswitch-completion.bash" => "tfswitch"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? and Hardware::CPU.is_64_bit?
      url "https://github.com/warrensbox/terraform-switcher/releases/download/v1.5.0/terraform-switcher_v1.5.0_linux_amd64.tar.gz"
      sha256 "3dad1b93fa034240a7e75d0febce381fcb51820ea896098f209ca2be39c0a66a"
      def install
        bin.install "tfswitch"
        bash_completion.install "tfswitch-completion.bash" => "tfswitch"
      end
    end
    if Hardware::CPU.arm? and !Hardware::CPU.is_64_bit?
      url "https://github.com/warrensbox/terraform-switcher/releases/download/v1.5.0/terraform-switcher_v1.5.0_linux_armv6.tar.gz"
      sha256 "e33632e9e003c84ec17daefb23c2b7d498c8b405aff06c6111e2dc5fc373821c"
      def install
        bin.install "tfswitch"
        bash_completion.install "tfswitch-completion.bash" => "tfswitch"
      end
    end
    if Hardware::CPU.arm? and Hardware::CPU.is_64_bit?
      url "https://github.com/warrensbox/terraform-switcher/releases/download/v1.5.0/terraform-switcher_v1.5.0_linux_arm64.tar.gz"
      sha256 "aa999128e671047aeb566abf2b8f1959d73caec98d34e568f1f56d20773693e1"
      def install
        bin.install "tfswitch"
        bash_completion.install "tfswitch-completion.bash" => "tfswitch"
      end
    end
  end

  conflicts_with "terraform"

  def caveats
    <<~EOS
      Type 'tfswitch' on your command line and choose Terraform version that you want from the dropdown
    EOS
  end

  test do
    system "#{bin}/tfswitch --version"
  end
end
