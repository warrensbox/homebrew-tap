# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Tfswitch < Formula
  desc "The tfswitch command lets you switch between terraform versions."
  homepage "https://warrensbox.github.io/terraform-switcher"
  version "1.1.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/warrensbox/terraform-switcher/releases/download/v1.1.0/terraform-switcher_v1.1.0_darwin_amd64.tar.gz"
      sha256 "abeec12212bb9c923451bc9f03f2d9a48e9fc7dd154f1fe6b535229144b020ed"

      def install
        bin.install "tfswitch"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/warrensbox/terraform-switcher/releases/download/v1.1.0/terraform-switcher_v1.1.0_darwin_arm64.tar.gz"
      sha256 "644e3cba6ca5d7eaf38878ee679a57256e19d53401c3ccbaea11ea4fb4781bb3"

      def install
        bin.install "tfswitch"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/warrensbox/terraform-switcher/releases/download/v1.1.0/terraform-switcher_v1.1.0_linux_amd64.tar.gz"
      sha256 "12ee7a650ade39e834ff8387c548f5a7b6fc16fb048cae918de6a28ee76b4d7a"

      def install
        bin.install "tfswitch"
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/warrensbox/terraform-switcher/releases/download/v1.1.0/terraform-switcher_v1.1.0_linux_armv6.tar.gz"
      sha256 "f9da21ff2b167fc1788264db4cc45e63205d94c01f67973f8a163d6838580b02"

      def install
        bin.install "tfswitch"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/warrensbox/terraform-switcher/releases/download/v1.1.0/terraform-switcher_v1.1.0_linux_arm64.tar.gz"
      sha256 "e0fc8a6c814f2084df9f2887e4014f6338fc52d11297e1da69528963bf0e5f0e"

      def install
        bin.install "tfswitch"
      end
    end
  end

  conflicts_with "terraform"

  def caveats
    <<~EOS
      Type 'tfswitch' on your command line and choose the terraform version that you want from the dropdown. This command currently only works on macOS and Linux
    EOS
  end

  test do
    system "#{bin}/tfswitch --version"
  end
end
