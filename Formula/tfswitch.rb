# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Tfswitch < Formula
  desc "The tfswitch command lets you switch between terraform versions."
  homepage "https://warrensbox.github.io/terraform-switcher"
  version "1.5.1"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/warrensbox/terraform-switcher/releases/download/v1.5.1/terraform-switcher_v1.5.1_darwin_amd64.tar.gz"
      sha256 "9461e4468b6738c49704a82dfc29f2ff77e23ebcc4ad9f5e4d929293487f0051"

      def install
        bin.install "tfswitch"
        bash_completion.install "tfswitch-completion.bash" => "tfswitch"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/warrensbox/terraform-switcher/releases/download/v1.5.1/terraform-switcher_v1.5.1_darwin_arm64.tar.gz"
      sha256 "75cfb1b483a2e4466f8db5c408d3a71d3f91edfa71b75b0a243929373ef5b26e"

      def install
        bin.install "tfswitch"
        bash_completion.install "tfswitch-completion.bash" => "tfswitch"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/warrensbox/terraform-switcher/releases/download/v1.5.1/terraform-switcher_v1.5.1_linux_amd64.tar.gz"
      sha256 "eda331ffbb8f2a68d058d2d6a14a068067beaa6b6bff04d403c2ff07aa8ea1f6"
      def install
        bin.install "tfswitch"
        bash_completion.install "tfswitch-completion.bash" => "tfswitch"
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/warrensbox/terraform-switcher/releases/download/v1.5.1/terraform-switcher_v1.5.1_linux_armv6.tar.gz"
      sha256 "3f3c6f2ad965d9d669af0937b7313729e28c55c3eff8c18345b12a84b8597b09"
      def install
        bin.install "tfswitch"
        bash_completion.install "tfswitch-completion.bash" => "tfswitch"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/warrensbox/terraform-switcher/releases/download/v1.5.1/terraform-switcher_v1.5.1_linux_arm64.tar.gz"
      sha256 "89ecffd057fe2a8065d269de0726179df8399d452631ab91ac2135c0a75b21db"
      def install
        bin.install "tfswitch"
        bash_completion.install "tfswitch-completion.bash" => "tfswitch"
      end
    end
  end

  conflicts_with "terraform"

  def caveats
    <<~EOS
      Type 'tfswitch' on your command line and choose Terraform version that you want from the dropdown
    EOS
  end

  test do
    system "#{bin}/tfswitch --version"
  end
end
